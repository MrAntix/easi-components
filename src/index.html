<!DOCTYPE html>
<html dir="ltr"
      lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0">
  <title>EASI Components</title>

  <script type="module"
          src="/build/antix-easi-components.esm.js"></script>
  <script nomodule
          src="/build/antix-easi-components.esm.js"></script>

  <link rel="stylesheet"
        type="text/css"
        href="/build/antix-easi-components.css" />
  <style>
    :root {
      --easi-unit: .5em;
      --easi-panel-background: #e7f3ff;

      --easi-ernie-hue: -15;
      --easi-ernie-saturation: 66.7%;
      --easi-ernie-border-width: 4;
      --easi-ernie-border-color: rgba(0, 0, 0, .2);
      --easi-ernie-border-selected-color: rgba(0, 0, 0, .8);
    }

    body {
      background: #def;
      color: #369;
      font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
      margin: 0;
      padding: var(--easi-unit);
    }
  </style>

</head>

<body>

  <h1>EASI Components</h1>

  <h2>a-easi</h2>
  <a-easi show-text
   bind
          [value]="score"
          {change}="onChange"></a-easi>
  <p>Value:
    <pre bind
         [inner-html]="scoreJSON"></pre>
  </p>

  <!--
  <h2>a-easi-ernie</h2>
  <a-easi-ernie trunk="5" head="10"></a-easi-ernie>

  <h2>a-easi-severity</h2>
  <a-easi-severity bind
                   [value]="severity"
                   {change}="onChange"></a-easi-severity>
  <p>Value: <span bind
          [inner-text]="severity"></span></p>

  <h2>a-easi-extent</h2>
  <a-easi-extent bind
                 [value]="extent"
                 {change}="onChange"></a-easi-extent>
  <p>Value: <span bind
          [inner-text]="extent"></span></p>
  -->

  <p>A very useful
    <a href="http://www.homeforeczema.org/documents/easi-user-guide-jan-2017-v3.pdf">Guide on EASI</a>
  </p>

  <script type="module">
    import { bind } from './libs/bind/bind.js';

    const context = {
      score: null,
      extent: 0,
      severity: 2,

      onChange: function (e) {
        const property = this.getAttribute('[value]');
        if (!property) throw '[value] not set'

        context[property] = e.detail;
        context[`${property}JSON`] = JSON.stringify(e.detail, null, 2);
      }
    }

    bind(document.body, context);

  </script>

</body>

</html>
