<!DOCTYPE html>
<html dir="ltr"
      lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0">
  <title>EASI Components</title>
  <link rel="icon"
        type="image/svg+xml"
        href="/assets/a.svg">

  <script type="module"
          src="/build/antix-easi-components.esm.js"></script>
  <script nomodule
          src="/build/antix-easi-components.esm.js"></script>

  <link rel="stylesheet"
        type="text/css"
        href="/build/antix-easi-components.css" />
  <style>
    :root {
      --unit: 4px;
      --lowlight: rgba(0, 0, 0, .1);
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f6f6f6;
      color: #444;
      font-size: 15px;
      margin: 0;
      padding: var(--unit);
    }

    header.main {
      margin-bottom: 2em;
    }


    .row {
      display: flex;
      flex-wrap: wrap;
      margin: calc(-1 * var(--unit));
    }

    .col,
    .row>div {
      display: flex;
      flex-direction: column;
      padding: var(--unit);
    }

    pre {
      font-size: .7em;
      padding: var(--unit);
      background-color: var(--lowlight);
    }

    p {
      padding: var(--unit);
      margin: 0;
    }

    .properties label {
      display: inline-block;
      width: 10rem;
    }
  </style>

</head>

<body>
  <a href="https://github.com/MrAntix/easi-components"
     class="github-corner"
     aria-label="View source on GitHub"><svg width="80"
         height="80"
         viewBox="0 0 250 250"
         style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;"
         aria-hidden="true">
      <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
      <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
            fill="currentColor"
            style="transform-origin: 130px 106px;"
            class="octo-arm"></path>
      <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
            fill="currentColor"
            class="octo-body"></path>
    </svg></a>
  <style>
    .github-corner:hover .octo-arm {
      animation: octocat-wave 560ms ease-in-out
    }

    @keyframes octocat-wave {

      0%,
      100% {
        transform: rotate(0)
      }

      20%,
      60% {
        transform: rotate(-25deg)
      }

      40%,
      80% {
        transform: rotate(10deg)
      }
    }

    @media (max-width:500px) {
      .github-corner:hover .octo-arm {
        animation: none
      }

      .github-corner .octo-arm {
        animation: octocat-wave 560ms ease-in-out
      }
    }
  </style>

  <header class="main">
    <h1>EASI Components</h1>
    <a href="https://github.com/MrAntix/easi-components">code on github</a>
    <a href="https://www.npmjs.com/package/@ntix/easi-components">npm package</a>
  </header>

  <article>
    <header>
      <code>
      &lt;a-easi
      <label>show-text
        <input type="checkbox"
              bind
              [checked]="show-text"
              {change}="onChange" change="show-text" />
      </label>
      /&gt;
      </code>
    </header>

    <a-easi bind
            [show-text]="show-text"
            [value]="easi"
            {value-change}="onChange"
            {score-change}="onChange"
            scorechange="score"></a-easi>

    <footer class="row">
      <div class="properties">
        <div><label>--easi-unit</label>
          <input type="range" title="units"
                 min="0"
                 max="1"
                 step=".05"
                 bind
                 units="rem"
                 [value]="unit"
                 {input}="onChangeStyle" />
          <span bind
                [inner-text]="unit"></span>rem
        </div>
        <div><label>--easi-primary-hue</label>
          <input type="range" title="primary-hue"
                 min="0"
                 max="360"
                 bind
                 [value]="primary-hue"
                 {input}="onChangeStyle" />
          <span bind
                [inner-text]="primary-hue"></span>
        </div>
        <div><label>--easi-primary-saturation</label>
          <input type="range" title="primary-saturation"
                 min="0"
                 max="100"
                 bind
                 units="%"
                 [value]="primary-saturation"
                 {input}="onChangeStyle" />
          <span bind
                [inner-text]="primary-saturation"></span>%
        </div>
        <div><label>--easi-primary-lightness</label>
          <input type="range" title="primary-lightness"
                 min="0"
                 max="100"
                 bind
                 units="%"
                 [value]="primary-lightness"
                 {input}="onChangeStyle" />
          <span bind
                [inner-text]="primary-lightness"></span>%
        </div>
        <div><label>--easi-grid-gap</label>
          <input type="range" title="grid-gap"
                 min="0"
                 max="10"
                 bind
                 units="px"
                 [value]="grid-gap"
                 {input}="onChangeStyle" />
          <span bind
                [inner-text]="grid-gap"></span>px
        </div>
        <div><label>--easi-border-radius</label>
          <input type="range" title="border-radius"
                 min="0"
                 max="20"
                 bind
                 units="px"
                 [value]="border-radius"
                 {input}="onChangeStyle" />
          <span bind
                [inner-text]="border-radius"></span>px
        </div>
        <div><label>--easi-border-width</label>
          <input type="range" title="border-width"
                 min="0"
                 max="10"
                 bind
                 units="px"
                 [value]="border-width"
                 {input}="onChangeStyle" />
          <span bind
                [inner-text]="border-width"></span>px
        </div>
        <hr />
        <div><label>--easi-ernie-hue</label>
          <input type="range" title="ernie-hue"
                 min="0"
                 max="360"
                 bind
                 [value]="ernie-hue"
                 {input}="onChangeStyle" />
          <span bind
                [inner-text]="ernie-hue"></span>
        </div>
        <div><label>--easi-ernie-border-width</label>
          <input type="range" title="ernie-border-width"
                 min="0"
                 max="10"
                 bind
                 units="px"
                 [value]="ernie-border-width"
                 {input}="onChangeStyle" />
          <span bind
                [inner-text]="ernie-border-width"></span>px
        </div>
        <hr />
        <div><label>--easi-panel-border-width</label>
          <input type="range" title="panel-border-width"
                 min="0"
                 max="10"
                 bind
                 units="px"
                 [value]="panel-border-width"
                 {input}="onChangeStyle" />
          <span bind
                [inner-text]="panel-border-width"></span>px
        </div>
        <div><label>--easi-panel-shadow-dist</label>
          <input type="range" title="panel-shadow-dist"
                 min="0"
                 max="40"
                 bind
                 units="px"
                 [value]="panel-shadow-dist"
                 {input}="onChangeStyle" />
          <span bind
                [inner-text]="panel-shadow-dist"></span>px
        </div>
      </div>
      <div>
        <p>Value</p>
        <pre bind
             [inner-html]="easiJSON"></pre>
      </div>
      <div>
        <p>Score</p>
        <pre bind
             [inner-html]="scoreJSON"></pre>
      </div>
    </footer>

  </article>

  <article>
    <header>
      <code>
          &lt;a-easi-select
          /&gt;
          </code>
    </header>

    <a-easi-select bind
                   [show-text]="show-text"
                   [options]="selectOptions"
                   [options-text]="selectOptionsText"
                   [value]="selectValue"
                   {value-change}="onChange"></a-easi-select>

    <footer class="row">
      <div>
        <p>Value</p>
        <pre bind
             [inner-html]="selectValueJSON"></pre>
      </div>
    </footer>

  </article>

  <article>
    <header>
      <code>
      &lt;a-easi-ernie
      /&gt;
      </code>
    </header>
    <a-easi-ernie bind
                  [value]="easi"></a-easi-ernie>

  </article>


  <div>A very useful
    <a href="http://www.homeforeczema.org/documents/easi-user-guide-jan-2017-v3.pdf">Guide on EASI</a>
  </div>

  <script type="module">
    import { bind } from './libs/bind/bind.js';

    const context = {
      easi: null,
      score: null,

      onChange: function (e) {
        let contextProperty = this.getAttribute(e.type)
          || this.getAttribute('[value]');

        context[contextProperty] = e.detail === undefined ? e.target.checked : e.detail;
        context[`${contextProperty}JSON`] = JSON.stringify(e.detail, null, 2);
      },

      selectOptions: [true, false],
      selectOptionsText: { 'true': 'True', 'false': 'False' },

      'show-text': true,
      'unit': .5,
      'primary-hue': 210,
      'primary-saturation': 0,
      'primary-lightness': 40,
      'grid-gap': 1,
      'border-radius': 5,
      'border-width': 0,
      'ernie-hue': null,
      'ernie-border-width': 3,
      'panel-border-width': 0,
      'panel-shadow-dist': 0,
      onChangeStyle: function () {
        const property = this.getAttribute('property') || '[value]';
        const propertyName = this.getAttribute(property);
        if (!propertyName) throw `${property} not set`;

        const units = this.getAttribute('units') || '';

        context[propertyName] = this.value;
        document.documentElement.style.setProperty(`--easi-${propertyName}`, `${this.value}${units}`);
      }
    }

    bind(document.body, context);

  </script>

</body>

</html>